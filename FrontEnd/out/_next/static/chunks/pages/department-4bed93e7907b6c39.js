(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[45],{2564:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/department",function(){return n(6648)}])},143:function(e,t){"use strict";t.Z={src:"/_next/static/media/edit.9ddae86b.svg",height:512,width:576,blurWidth:0,blurHeight:0}},7260:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var a=n(5893),i=n(5675),d=n.n(i),l={src:"/_next/static/media/loader.d8112d83.gif",height:600,width:800,blurWidth:0,blurHeight:0};let s=()=>(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"loader-wrapper",children:(0,a.jsx)(d(),{src:l,alt:"Loader"})})});var r=s},6648:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return b}});var a=n(5893),i=n(5322),d=n(3926),l=n(8091),s=n(1390),r=n(2920);let o=async e=>{try{let t=await l.Z.post(s.f.ADDDEPARTMENT,e);return t}catch(e){var t,n,a;(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&r.Am.error(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)}},c=async e=>{try{let t=await l.Z.put(s.f.UPDATEDEPARTMENT,e);return t}catch(e){var t,n,a;(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&r.Am.error(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(a=n.data)||void 0===a?void 0:a.message)}},u=async()=>{try{let e=await l.Z.get(s.f.DEPARTMENTDETAIL);return e}catch(e){}};var m=n(5675),p=n.n(m),h=n(7294),v=n(143),x=n(9811),_=n(7260);let f=()=>{let[e,t]=(0,h.useState)(!1),[n,l]=(0,h.useState)(!0),[s,m]=(0,h.useState)([]),[x,f]=(0,h.useState)({department_name:"",index:null}),b=async(e,n)=>{let a;if(e.preventDefault(),(null==x?void 0:x.index)!==null){let e={department_name:n.trim(),department_name_position:x.index};a=await c(e)}else a=await o({department_name:n.trim()});if(a&&200===a.status){if(r.Am.success(a.data.message),(null==x?void 0:x.index)!==null){let e=[...s];e[null==x?void 0:x.index]=a.data.data,m(e),f({department_name:"",index:null})}else m(e=>e?[...e,a.data.data]:[a.data.data]);t(!1)}},j=(e,n)=>{f({department_name:e,index:n}),t(!0)},N=()=>{f({department_name:"",index:null}),t(!1)};return(0,h.useEffect)(()=>{l(!0),u().then(e=>{m(null==e?void 0:e.data.data.department_name),l(!1)})},[]),(0,a.jsxs)("div",{className:"bodyContent-holder position-relative",children:[(0,a.jsx)("div",{className:"contbx-wrapper",children:(0,a.jsxs)("div",{className:"bx-holder",children:[(0,a.jsxs)("h1",{className:"dapart-head",children:["Department",(0,a.jsx)("span",{className:"rgt_btns",children:(0,a.jsx)(i.Z,{type:"submit",btnclass:"primary_btn btn_md btn_animation m-bottom--5x",clickFn:()=>t(!0),children:"Add"})})]}),(0,a.jsxs)("div",{className:"deaprtList-holder",children:[n&&(0,a.jsx)(_.Z,{}),(null==s?void 0:s.length)>0?s.map((e,t)=>(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:e.department_name}),(0,a.jsx)("li",{children:(0,a.jsx)(i.Z,{type:"submit",btnclass:"primary_btn btn_md btn_animation m-bottom--5x",clickFn:()=>j(e.department_name,t),children:(0,a.jsx)(p(),{src:v.Z,alt:"Edit Department"})})})]},t)):(0,a.jsx)("p",{className:"text-center",children:"No data found!"})]})]})}),(0,a.jsx)(d.Z,{show:e,onHide:N,handlerSubmit:b,selectData:x})]})};var b=(0,x.Z)(f)},9811:function(e,t,n){"use strict";var a=n(5893),i=n(7294),d=n(1163),l=n.n(d),s=n(7041),r=n(7260);let o=e=>t=>{let[n,d]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{let e=async()=>{let e=(0,s.getCookie)("token");e||(e=(0,s.getCookie)("token")),e?d(!0):(d(!1),l().replace("/"),(0,s.deleteCookie)("userId"),(0,s.deleteCookie)("planId"),(0,s.deleteCookie)("token"))};e()},[]),n)?(0,a.jsx)(e,{...t}):(0,a.jsx)(r.Z,{})};t.Z=o}},function(e){e.O(0,[774,888,179],function(){return e(e.s=2564)}),_N_E=e.O()}]);