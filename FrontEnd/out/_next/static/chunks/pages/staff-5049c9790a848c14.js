(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[559],{2532:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/staff",function(){return a(1010)}])},143:function(e,t){"use strict";t.Z={src:"/_next/static/media/edit.9ddae86b.svg",height:512,width:576,blurWidth:0,blurHeight:0}},7260:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var l=a(5893),n=a(5675),s=a.n(n),i={src:"/_next/static/media/loader.d8112d83.gif",height:600,width:800,blurWidth:0,blurHeight:0};let d=()=>(0,l.jsx)("div",{children:(0,l.jsx)("div",{className:"loader-wrapper",children:(0,l.jsx)(s(),{src:i,alt:"Loader"})})});var r=d},1010:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return w}});var l=a(5893),n=a(5322),s=a(7294),i=a(2914),d=a(6920),r=a(8850),o=a(7555),c=a.n(o);a(322);let m=e=>{let[t,a]=(0,s.useState)(!0),[o,m]=(0,s.useState)(""),[u,h]=(0,s.useState)({name:"",email_address:"",phone_number:""}),v=e=>{let t=e.target.name,a=e.target.value;h(e=>({...e,[t]:a}))},b=t=>{t.preventDefault(),u.phone_number=o||u.phone_number,e.handlerSubmit(t,u),a(!0)};return(0,s.useEffect)(()=>{e.selectData&&h(e.selectData)},e.selectData),(0,s.useEffect)(()=>{if(e.selectData){var t,l,n;(null==u?void 0:u.name)===(null==e?void 0:null===(t=e.selectData)||void 0===t?void 0:t.name)&&(null==u?void 0:u.email_address)===(null==e?void 0:null===(l=e.selectData)||void 0===l?void 0:l.email_address)&&(null==u?void 0:u.phone_number)===(null==e?void 0:null===(n=e.selectData)||void 0===n?void 0:n.phone_number)?a(!0):a(!1)}else(null==u?void 0:u.name.length)&&(null==u?void 0:u.email_address.length)&&o.length?a(!1):a(!0)},[null==u?void 0:u.name,null==u?void 0:u.email_address,o,e.selectData]),(0,l.jsxs)(d.Z,{show:e.show,onHide:e.onHide,backdrop:"static","aria-labelledby":"contained-modal-title-vcenter",centered:!0,className:"add-staff",children:[(0,l.jsx)(d.Z.Header,{closeButton:!0,children:(0,l.jsxs)(d.Z.Title,{id:"contained-modal-title-vcenter",children:[e.selectData?"Edit":"Add"," Staff"]})}),(0,l.jsx)(d.Z.Body,{children:(0,l.jsxs)(i.Z,{onSubmit:b,children:[(0,l.jsxs)("div",{className:"form-group m-bottom--6x",children:[(0,l.jsx)(i.Z.Label,{className:"cstm_labelbx title_sm fw-500",children:"Name"}),(0,l.jsx)(r.Z,{class:"form-control",type:"text",name:"name",placeholder:"Please enter name",value:u.name,onChange:v,maxLen:40,autoFocus:!0})]}),(0,l.jsxs)("div",{className:"form-group m-bottom--6x",children:[(0,l.jsx)(i.Z.Label,{className:"cstm_labelbx title_sm fw-500",children:"Email Address"}),(0,l.jsx)(r.Z,{class:"form-control",type:"text",name:"email_address",placeholder:"Please enter email address",value:u.email_address,onChange:v,maxLen:40})]}),(0,l.jsxs)("div",{className:"form-group cstm_formbx m-bottom--6x cstm_ph",children:[(0,l.jsx)(i.Z.Label,{className:"cstm_labelbx title_sm fw-500",children:"Phone Number"}),(0,l.jsx)(c(),{country:"in",enableSearch:!0,countryCodeEditable:!1,value:o||u.phone_number,onChange:e=>m(e)})]}),(0,l.jsx)("div",{className:"btn-holder",style:{marginTop:"25px",marginBottom:"30px"},children:(0,l.jsx)(n.Z,{type:"submit",btnclass:"primary_btn w-100 btn_md btn_animation m-bottom--5x",disabled:t,children:e.selectData?"Update":"Submit"})})]})})]})};var u=a(8091),h=a(1390),v=a(2920);let b=async e=>{try{let t=await u.Z.post(h.f.ADDSTAFF,e);return t}catch(e){var t,a,l;(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&v.Am.error(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.message)}},x=async e=>{try{let t=await u.Z.put(h.f.UPDATESTAFF,e);return t}catch(e){var t,a,l;(null==e?void 0:null===(t=e.response)||void 0===t?void 0:t.data)&&v.Am.error(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.message)}},p=async()=>{try{let e=await u.Z.get(h.f.STAFFLIST);return e}catch(e){}};var _=a(9811),f=a(7260),j=a(5675),g=a.n(j),N=a(143);let Z=()=>{let[e,t]=(0,s.useState)(!1),[a,i]=(0,s.useState)(!0),[d,r]=(0,s.useState)([]),[o,c]=(0,s.useState)(),u=async(e,a)=>{let l;if(e.preventDefault(),a.id){let e={id:a.id,name:a.name,email_address:a.email_address,phone_number:a.phone_number};l=await x(e)}else l=await b(a);if(l&&200===l.status){let e;if(a.id){let t=d.filter(e=>e.id!==l.data.data.id);e=[...t,l.data.data]}else e=[...d,l.data.data];r(e),t(!1),c(void 0)}},h=()=>{c(void 0),t(!1)},v=e=>{c(e),t(!0)};return(0,s.useEffect)(()=>{i(!0),p().then(e=>{var t;r(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.data),i(!1)})},[]),(0,l.jsxs)("div",{className:"bodyContent-holder position-relative",children:[(0,l.jsx)("div",{className:"contbx-wrapper",children:(0,l.jsxs)("div",{className:"bx-holder",children:[(0,l.jsxs)("h1",{className:"dapart-head",children:["Staff",(0,l.jsx)("span",{className:"rgt_btns",children:(0,l.jsx)(n.Z,{type:"submit",btnclass:"primary_btn btn_md btn_animation m-bottom--5x",clickFn:()=>t(!0),children:"Add"})})]}),(0,l.jsxs)("div",{className:"deaprtList-holder",children:[a&&(0,l.jsx)(f.Z,{}),(null==d?void 0:d.length)>0?d.map((e,t)=>(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:e.name}),(0,l.jsx)("li",{children:e.email_address}),(0,l.jsx)("li",{children:e.phone_number}),(0,l.jsx)("li",{children:(0,l.jsx)(n.Z,{type:"submit",btnclass:"primary_btn btn_md btn_animation m-bottom--5x",clickFn:()=>v(e),children:(0,l.jsx)(g(),{src:N.Z,alt:"Edit Department"})})})]},t)):(0,l.jsx)("p",{className:"text-center",children:"No data found!"})]})]})}),(0,l.jsx)(m,{show:e,onHide:h,handlerSubmit:u,selectData:o})]})};var w=(0,_.Z)(Z)},9811:function(e,t,a){"use strict";var l=a(5893),n=a(7294),s=a(1163),i=a.n(s),d=a(7041),r=a(7260);let o=e=>t=>{let[a,s]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{let e=async()=>{let e=(0,d.getCookie)("token");e||(e=(0,d.getCookie)("token")),e?s(!0):(s(!1),i().replace("/"),(0,d.deleteCookie)("userId"),(0,d.deleteCookie)("planId"),(0,d.deleteCookie)("token"))};e()},[]),a)?(0,l.jsx)(e,{...t}):(0,l.jsx)(r.Z,{})};t.Z=o}},function(e){e.O(0,[288,774,888,179],function(){return e(e.s=2532)}),_N_E=e.O()}]);