(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[946],{1735:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/personnel",function(){return t(4956)}])},143:function(e,n){"use strict";n.Z={src:"/_next/static/media/edit.9ddae86b.svg",height:512,width:576,blurWidth:0,blurHeight:0}},7260:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var a=t(5893),l=t(5675),s=t.n(l),i={src:"/_next/static/media/loader.d8112d83.gif",height:600,width:800,blurWidth:0,blurHeight:0};let r=()=>(0,a.jsx)("div",{children:(0,a.jsx)("div",{className:"loader-wrapper",children:(0,a.jsx)(s(),{src:i,alt:"Loader"})})});var d=r},4956:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var a=t(5893),l=t(5322),s=t(3926),i=t(8091),r=t(1390),d=t(2920);let o=async e=>{try{let n=await i.Z.post(r.f.ADDPERSONNEL,e);return n}catch(e){var n,t,a;(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)&&d.Am.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)}},c=async e=>{try{let n=await i.Z.put(r.f.UPDATEPERSONNEL,e);return n}catch(e){var n,t,a;(null==e?void 0:null===(n=e.response)||void 0===n?void 0:n.data)&&d.Am.error(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(a=t.data)||void 0===a?void 0:a.message)}},u=async()=>{try{let e=await i.Z.get(r.f.PERSONNELDETAIL);return e}catch(e){}};var m=t(7294),h=t(5675),p=t.n(h),v=t(143),x=t(9811),_=t(7260);let f=()=>{let[e,n]=(0,m.useState)(!1),[t,i]=(0,m.useState)(!0),[r,h]=(0,m.useState)([]),[x,f]=(0,m.useState)({personnel_name:"",index:null}),b=async(e,t)=>{let a;if(e.preventDefault(),(null==x?void 0:x.index)!==null){let e={personnel_name:t.trim(),personnel_name_position:x.index};a=await c(e)}else a=await o({personnel_name:t.trim()});if(a&&200===a.status){if(d.Am.success(a.data.message),(null==x?void 0:x.index)!==null){let e=[...r];e[null==x?void 0:x.index]=a.data.data,h(e),f({personnel_name:"",index:null})}else h(e=>e?[...e,a.data.data]:[a.data.data]);n(!1)}},j=(e,t)=>{f({personnel_name:e,index:t}),n(!0)},N=()=>{f({personnel_name:"",index:null}),n(!1)};return(0,m.useEffect)(()=>{i(!0),u().then(e=>{h(null==e?void 0:e.data.data.personnel_name),i(!1)})},[]),(0,a.jsxs)("div",{className:"bodyContent-holder position-relative",children:[(0,a.jsx)("div",{className:"contbx-wrapper",children:(0,a.jsxs)("div",{className:"bx-holder",children:[(0,a.jsxs)("h1",{className:"dapart-head",children:["Personnel",(0,a.jsx)("span",{className:"rgt_btns",children:(0,a.jsx)(l.Z,{type:"submit",btnclass:"primary_btn btn_md btn_animation m-bottom--5x",clickFn:()=>n(!0),children:"Add"})})]}),(0,a.jsxs)("div",{className:"deaprtList-holder",children:[t&&(0,a.jsx)(_.Z,{}),(null==r?void 0:r.length)>0?r.map((e,n)=>(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{children:e.personnel_name}),(0,a.jsx)("li",{children:(0,a.jsx)(l.Z,{type:"submit",btnclass:"primary_btn btn_md btn_animation m-bottom--5x",clickFn:()=>j(e.personnel_name,n),children:(0,a.jsx)(p(),{src:v.Z,alt:"Edit Department"})})})]},n)):(0,a.jsx)("p",{className:"text-center",children:"No data found!"})]})]})}),(0,a.jsx)(s.Z,{show:e,onHide:N,handlerSubmit:b,selectData:x})]})};var b=(0,x.Z)(f)},9811:function(e,n,t){"use strict";var a=t(5893),l=t(7294),s=t(1163),i=t.n(s),r=t(7041),d=t(7260);let o=e=>n=>{let[t,s]=(0,l.useState)(!1);return((0,l.useEffect)(()=>{let e=async()=>{let e=(0,r.getCookie)("token");e||(e=(0,r.getCookie)("token")),e?s(!0):(s(!1),i().replace("/"),(0,r.deleteCookie)("userId"),(0,r.deleteCookie)("planId"),(0,r.deleteCookie)("token"))};e()},[]),t)?(0,a.jsx)(e,{...n}):(0,a.jsx)(d.Z,{})};n.Z=o}},function(e){e.O(0,[774,888,179],function(){return e(e.s=1735)}),_N_E=e.O()}]);